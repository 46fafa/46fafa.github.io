{{- $ThemeVersion := "3.30.0" -}}
{{$scratch := newScratch}}
{{ range (where .Site.Pages "Kind" "page" )}}
    {{$scratch.Add "total" .WordCount}}
{{ end }}
<footer class="site-footer">
        <!--增加字数统计和文章统计-->
    <section class="copyright">
        &copy; 
        {{ if and (.Site.Params.footer.since) (ne .Site.Params.footer.since (int (now.Format "2006"))) }}
            {{ .Site.Params.footer.since }} - 
        {{ end }}
        {{ now.Format "2006" }}<br>{{ .Site.Copyright }} 发表了 {{ len (where .Site.RegularPages "Section" "post") }} 篇文章 | 总计 {{$scratch.Get "total" }} 字</br><span><p>
    </section>

    <section class="powerby">
        {{ with .Site.Params.footer.customText }}
            {{ . | safeHTML }} <br/>
        {{ end }}

        {{- $Generator := `<a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>` -}}
        {{- $Theme := printf `<b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="%s">Stack</a></b>` $ThemeVersion -}}
        {{- $DesignedBy := `<a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>` -}}

        {{ T "footer.builtWith" (dict "Generator" $Generator) | safeHTML }} <br />
        {{ T "footer.designedBy" (dict "Theme" $Theme "DesignedBy" $DesignedBy) | safeHTML }}
    </section>

    <!-- Custom JavaScript for particles animation -->
    <script type="text/javascript" src="/js/particles.js"
            data-zindex="-1"
            data-opacity="0.5"
            data-color="120,120,120"
            data-count="99">
    </script>
    
</footer>

